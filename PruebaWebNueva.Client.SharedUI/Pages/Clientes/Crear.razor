@page "/clientes/crear"
@using PruebaWebNueva.Application.Services
@inject IClienteService ClienteService
@inject NavigationManager Navigation

<h3>Nuevo Cliente</h3>

<EditForm Model="@cliente" OnValidSubmit="Guardar">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label>Razón Social</label>
        <InputText class="form-control" @bind-Value="cliente.RazonSocial" />
    </div>

    <div class="mb-3">
        <label>CUIT/CUIL</label>
        <InputText class="form-control" @bind-Value="cliente.CuitCuil" />
    </div>

    <div class="mb-3">
        <label>Email</label>
        <InputText class="form-control" @bind-Value="cliente.Email" />
    </div>

    <div class="mb-3">
        <label>Teléfono</label>
        <InputText class="form-control" @bind-Value="cliente.Telefono" />
    </div>

    <div class="mb-3">
        <label>Dirección</label>
        <InputText class="form-control" @bind-Value="cliente.Direccion" />
    </div>

    <div class="mb-3">
        <label>Condición IVA</label>
        <InputText class="form-control" @bind-Value="cliente.CondicionIva" />
    </div>

    <div class="mb-3">
        <label>Activo</label>
        <InputCheckbox class="form-check-input" @bind-Value="cliente.Activo" />
    </div>

    <button class="btn btn-success" type="submit">Guardar</button>
    <button class="btn btn-secondary ms-2" @onclick="Cancelar">Cancelar</button>
</EditForm>

@code {
    private Cliente cliente = new();

    private async Task Guardar()
    {
        await ClienteService.AddAsync(cliente);
        Navigation.NavigateTo("/clientes");
    }

    private void Cancelar()
    {
        Navigation.NavigateTo("/clientes");
    }
}
